import"./chunk-GAL4ENT6.js";function _(){return _=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(t[u]=a[u])}return t},_.apply(this,arguments)}var ue=.996,le=function(n,a){return a===void 0&&(a=ue),n*a/(1-a)};function ce(t){return t[t.length-1]}function ve(t){return t.reduce(function(n,a){return n+a})/t.length}var fe=function(n,a,u){return Math.min(Math.max(a,n),u)};function k(t,n){if(t.length!==n.length)throw new Error("vectors must be same length");return t.map(function(a,u){return a+n[u]})}function te(t){return Math.max.apply(Math,t.map(Math.abs))}function O(t){return Object.freeze(t),Object.values(t).forEach(function(n){n!==null&&typeof n=="object"&&!Object.isFrozen(n)&&O(n)}),t}function de(){var t={};function n(d,s){return t[d]=(t[d]||[]).concat(s),function(){return a(d,s)}}function a(d,s){t[d]=(t[d]||[]).filter(function(e){return e!==s})}function u(d,s){d in t&&t[d].forEach(function(e){return e(s)})}return O({on:n,off:a,dispatch:u})}function me(t){var n=[],a=function(e){return e.addEventListener("wheel",t,{passive:!1}),n.push(e),function(){return u(e)}},u=function(e){e.removeEventListener("wheel",t),n=n.filter(function(D){return D!==e})},d=function(){n.forEach(u)};return O({observe:a,unobserve:u,disconnect:d})}var pe=16*1.125,he=typeof window<"u"&&window.innerHeight||800,$=[1,pe,he];function ge(t){var n=t.deltaX*$[t.deltaMode],a=t.deltaY*$[t.deltaMode],u=(t.deltaZ||0)*$[t.deltaMode];return{timeStamp:t.timeStamp,axisDelta:[n,a,u]}}var Ee=[-1,-1,-1];function Me(t,n){if(!n)return t;var a=n===!0?Ee:n.map(function(u){return u?-1:1});return _({},t,{axisDelta:t.axisDelta.map(function(u,d){return u*a[d]})})}var ne=700,xe=function(n){return _({},n,{axisDelta:n.axisDelta.map(function(a){return fe(a,-ne,ne)})})},q=!1,De=.6,Ae=.96,be=2,re=5,ie=O({preventWheelAction:!0,reverseSign:[!0,!0,!1]}),Se=400;function ae(){return{isStarted:!1,isStartPublished:!1,isMomentum:!1,startTime:0,lastAbsDelta:1/0,axisMovement:[0,0,0],axisVelocity:[0,0,0],accelerationFactors:[],scrollPoints:[],scrollPointsToMerge:[],willEndTimeout:Se}}function ye(t){t===void 0&&(t={});var n=de(),a=n.on,u=n.off,d=n.dispatch,s=ie,e=ae(),D,A=!1,w,C=function(r){Array.isArray(r)?r.forEach(function(o){return W(o)}):W(r)},G=function(r){return r===void 0&&(r={}),Object.values(r).some(function(o){return o==null})?(q&&console.error("updateOptions ignored! undefined & null options not allowed"),s):s=O(_({},ie,s,r))},V=function(r){var o=_({event:D,isStart:!1,isEnding:!1,isMomentumCancel:!1,isMomentum:e.isMomentum,axisDelta:[0,0,0],axisVelocity:e.axisVelocity,axisMovement:e.axisMovement,get axisMovementProjection(){return k(o.axisMovement,o.axisVelocity.map(function(f){return le(f)}))}},r);d("wheel",_({},o,{previous:w})),w=o},g=function(r,o){var f=s,p=f.preventWheelAction,h=o[0],i=o[1],c=o[2];if(typeof p=="boolean")return p;switch(p){case"x":return Math.abs(h)>=r;case"y":return Math.abs(i)>=r;case"z":return Math.abs(c)>=r;default:return q&&console.warn("unsupported preventWheelAction value: "+p,"warn"),!1}},W=function(r){var o=xe(Me(ge(r),s.reverseSign)),f=o.axisDelta,p=o.timeStamp,h=te(f);if(r.preventDefault&&g(h,f)&&r.preventDefault(),e.isStarted?e.isMomentum&&h>Math.max(2,e.lastAbsDelta*2)&&(S(!0),M()):M(),h===0&&Object.is&&Object.is(r.deltaX,-0)){A=!0;return}D=r,e.axisMovement=k(e.axisMovement,f),e.lastAbsDelta=h,e.scrollPointsToMerge.push({axisDelta:f,timeStamp:p}),x(),V({axisDelta:f,isStart:!e.isStartPublished}),e.isStartPublished=!0,N()},x=function(){e.scrollPointsToMerge.length===be?(e.scrollPoints.unshift({axisDeltaSum:e.scrollPointsToMerge.map(function(r){return r.axisDelta}).reduce(k),timeStamp:ve(e.scrollPointsToMerge.map(function(r){return r.timeStamp}))}),L(),e.scrollPointsToMerge.length=0,e.scrollPoints.length=1,e.isMomentum||b()):e.isStartPublished||X()},X=function(){e.axisVelocity=ce(e.scrollPointsToMerge).axisDelta.map(function(r){return r/e.willEndTimeout})},L=function(){var r=e.scrollPoints,o=r[0],f=r[1];if(!(!f||!o)){var p=o.timeStamp-f.timeStamp;if(p<=0){q&&console.warn("invalid deltaTime");return}var h=o.axisDeltaSum.map(function(c){return c/p}),i=h.map(function(c,v){return c/(e.axisVelocity[v]||1)});e.axisVelocity=h,e.accelerationFactors.push(i),Y(p)}},Y=function(r){var o=Math.ceil(r/10)*10*1.2;e.isMomentum||(o=Math.max(100,o*2)),e.willEndTimeout=Math.min(1e3,Math.round(o))},z=function(r){return r===0?!0:r<=Ae&&r>=De},b=function(){if(e.accelerationFactors.length>=re){if(A&&(A=!1,te(e.axisVelocity)>=.2)){E();return}var r=e.accelerationFactors.slice(re*-1),o=r.every(function(f){var p=!!f.reduce(function(i,c){return i&&i<1&&i===c?1:0}),h=f.filter(z).length===f.length;return p||h});o&&E(),e.accelerationFactors=r}},E=function(){e.isMomentum=!0},M=function(){e=ae(),e.isStarted=!0,e.startTime=Date.now(),w=void 0,A=!1},N=(function(){var l;return function(){clearTimeout(l),l=setTimeout(S,e.willEndTimeout)}})(),S=function(r){r===void 0&&(r=!1),e.isStarted&&(e.isMomentum&&r?V({isEnding:!0,isMomentumCancel:!0}):V({isEnding:!0}),e.isMomentum=!1,e.isStarted=!1)},I=me(C),j=I.observe,H=I.unobserve,F=I.disconnect;return G(t),O({on:a,off:u,observe:j,unobserve:H,disconnect:F,feedWheel:C,updateOptions:G})}var oe=ye;var Te={active:!0,breakpoints:{},wheelDraggingClass:"is-wheel-dragging",forceWheelAxis:void 0,target:void 0};J.globalOptions=void 0;var _e=!1;function J(t){t===void 0&&(t={});var n,a=function(){};function u(s,e){var D,A,w=e.mergeOptions,C=e.optionsAtMedia,G=w(Te,J.globalOptions),V=w(G,t);n=C(V);var g=s.internalEngine(),W=(D=n.target)!=null?D:s.containerNode().parentNode,x=(A=n.forceWheelAxis)!=null?A:g.options.axis,X=oe({preventWheelAction:x,reverseSign:[!0,!0,!1]});function L(){N=(x==="x"?g.containerRect.width:g.containerRect.height)/2}var Y=X.observe(W),z=X.on("wheel",h),b=!1,E,M=0,N=0,S=!1;L(),s.on("resize",L);function I(i){try{E=new MouseEvent("mousedown",i.event),o(E)}catch{return _e&&console.warn("Legacy browser requires events-polyfill (https://github.com/xiel/embla-carousel-wheel-gestures#legacy-browsers)"),a()}b=!0,M=0,H(),n.wheelDraggingClass&&W.classList.add(n.wheelDraggingClass)}function j(i){b=!1,o(r("mouseup",i)),F(),n.wheelDraggingClass&&W.classList.remove(n.wheelDraggingClass)}function H(){document.documentElement.addEventListener("mousemove",l,!0),document.documentElement.addEventListener("mouseup",l,!0),document.documentElement.addEventListener("mousedown",l,!0)}function F(){document.documentElement.removeEventListener("mousemove",l,!0),document.documentElement.removeEventListener("mouseup",l,!0),document.documentElement.removeEventListener("mousedown",l,!0)}function l(i){b&&i.isTrusted&&i.stopImmediatePropagation()}function r(i,c){var v,m;if(x===g.options.axis){var y=c.axisMovement;v=y[0],m=y[1]}else{var P=c.axisMovement;m=P[0],v=P[1]}var B=f(c),T=B.isAtBoundary;if(T){var R=Math.min(M/N,1),Z=.25+R*.5,U=v>0?-1:1,se=M*U,K=se*Z;v+=K,m+=K}if(!g.options.skipSnaps&&!g.options.dragFree){var Q=g.containerRect.width,ee=g.containerRect.height;v=v<0?Math.max(v,-Q):Math.min(v,Q),m=m<0?Math.max(m,-ee):Math.min(m,ee)}return new MouseEvent(i,{clientX:E.clientX+v,clientY:E.clientY+m,screenX:E.screenX+v,screenY:E.screenY+m,movementX:v,movementY:m,button:0,bubbles:!0,cancelable:!0,composed:!0})}function o(i){s.containerNode().dispatchEvent(i)}function f(i){var c=i.axisDelta,v=c[0],m=c[1],y=s.scrollProgress(),P=y<1,B=y>0,T=x==="x"?v:m,R=T<0,Z=T>0,U=R&&!P||Z&&!B;return{isAtBoundary:U,primaryAxisDelta:T}}function p(i){var c=f(i),v=c.isAtBoundary,m=c.primaryAxisDelta;if(v&&!i.isMomentum){if(M+=Math.abs(m),M>N)return S=!0,j(i),!0}else M=0;return!1}function h(i){var c=i.axisDelta,v=c[0],m=c[1],y=x==="x"?v:m,P=x==="x"?m:v,B=i.isMomentum&&i.previous&&!i.previous.isMomentum,T=i.isEnding&&!i.isMomentum||B,R=Math.abs(y)>Math.abs(P);R&&!b&&!i.isMomentum&&!S&&I(i),S&&i.isEnding&&(S=!1),b&&(p(i)||(T?j(i):o(r("mousemove",i))))}a=function(){Y(),z(),s.off("resize",L),F()}}var d={name:"wheelGestures",options:t,init:u,destroy:function(){return a()}};return d}var Pe=J;export{J as WheelGesturesPlugin,Pe as default};
