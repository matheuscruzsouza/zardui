import{a as me}from"./chunk-VDBEX6S4.js";import{$ as K,O as ue,P as Y,Y as _e,Z as je,_ as $e,aa as H,ea as He,fa as Be,la as Ge,ma as B,t as v,v as T,w as X,y as ve}from"./chunk-WRYUIXCZ.js";import{$b as Z,Aa as P,Bc as le,C as we,Fa as O,Fb as C,Ib as m,Kb as p,Nb as q,Nc as b,Ob as U,Oc as Ae,Pb as E,Qb as f,Rb as h,Rc as I,Sb as k,Sc as a,T as he,Tb as ae,Tc as Fe,Ua as Ie,Ub as se,Vc as ce,Y as ie,Z as Ve,Za as d,Zb as V,_ as ge,_b as Ce,aa as Ee,ac as be,bc as l,ca as z,cb as L,cc as N,dc as A,f as ye,fb as Pe,hc as re,ia as D,ic as Ze,j as Se,ja as w,jc as F,k as Te,l as Me,lc as Ne,ma as oe,na as Re,ob as y,oc as g,pb as ze,pc as S,qc as j,rc as $,sa as x,sb as Oe,td as de,ua as ke,ub as Le,xd as R,z as De}from"./chunk-FOI5FY2M.js";var Qe=v("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{zSide:{right:"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 border-l",left:"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 border-r",top:"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 border-b",bottom:"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 border-t"},zSize:{default:"",sm:"",lg:"",custom:""}},compoundVariants:[{zSide:["left","right"],zSize:"default",class:"w-3/4 sm:max-w-sm h-full"},{zSide:["left","right"],zSize:"sm",class:"w-1/2 sm:max-w-xs h-full"},{zSide:["left","right"],zSize:"lg",class:"w-full sm:max-w-lg h-full"},{zSide:["top","bottom"],zSize:"default",class:"h-auto"},{zSide:["top","bottom"],zSize:"sm",class:"h-1/3"},{zSide:["top","bottom"],zSize:"lg",class:"h-3/4"}],defaultVariants:{zSide:"right",zSize:"default"}});function rt(n,s){if(n&1){let e=V();f(0,"button",6),Z("click",function(){D(e);let i=l();return w(i.onCloseClick())}),k(1,"z-icon",7),h()}}function lt(n,s){if(n&1&&(f(0,"p",9),S(1),h()),n&2){let e=l(3);d(),j(e.config.zDescription)}}function ct(n,s){if(n&1&&(f(0,"h4",8),S(1),h(),m(2,lt,2,1,"p",9)),n&2){let e=l(2);d(),j(e.config.zTitle),d(),p(e.config.zDescription?2:-1)}}function dt(n,s){if(n&1&&(f(0,"header",1),m(1,ct,3,2),h()),n&2){let e=l();d(),p(e.config.zTitle?1:-1)}}function ut(n,s){}function mt(n,s){if(n&1&&k(0,"div",4),n&2){let e=l();E("innerHTML",e.config.zContent,Ie)}}function pt(n,s){if(n&1&&k(0,"z-icon",13),n&2){let e=l(3);E("zType",e.config.zOkIcon)}}function ft(n,s){if(n&1){let e=V();f(0,"button",12),Z("click",function(){D(e);let i=l(2);return w(i.onOkClick())}),m(1,pt,1,1,"z-icon",13),S(2),h()}if(n&2){let e=l(2);E("zType",e.config.zOkDestructive?"destructive":"default")("disabled",e.config.zOkDisabled),d(),p(e.config.zOkIcon?1:-1),d(),$(" ",e.config.zOkText??"OK"," ")}}function ht(n,s){if(n&1&&k(0,"z-icon",13),n&2){let e=l(3);E("zType",e.config.zCancelIcon)}}function gt(n,s){if(n&1){let e=V();f(0,"button",14),Z("click",function(){D(e);let i=l(2);return w(i.onCloseClick())}),m(1,ht,1,1,"z-icon",13),S(2),h()}if(n&2){let e=l(2);d(),p(e.config.zCancelIcon?1:-1),d(),$(" ",e.config.zCancelText??"Cancel"," ")}}function zt(n,s){if(n&1&&(f(0,"footer",5),m(1,ft,3,4,"button",10),m(2,gt,3,2,"button",11),h()),n&2){let e=l();d(),p(e.config.zOkText!==null?1:-1),d(),p(e.config.zCancelText!==null?2:-1)}}var J=class{zCancelIcon;zCancelText;zClosable;zContent;zCustomClasses;zData;zDescription;zHeight;zHideFooter;zMaskClosable;zOkDestructive;zOkDisabled;zOkIcon;zOkText;zOnCancel=ve;zOnOk=ve;zSide="left";zSize="default";zTitle;zViewContainerRef;zWidth},ee=(()=>{class n extends $e{host=z(P);config=z(J);classes=b(()=>{let e=this.config.zWidth||this.config.zHeight?"custom":this.config.zSize;return T(Qe({zSide:this.config.zSide,zSize:e}),this.config.zCustomClasses)});sheetRef;isStringContent=typeof this.config.zContent=="string";portalOutlet=Fe.required(K);okTriggered=I();cancelTriggered=I();state=x("closed");constructor(){super()}getNativeElement(){return this.host.nativeElement}attachComponentPortal(e){if(this.portalOutlet()?.hasAttached())throw new Error("Attempting to attach modal content after content is already attached");return this.portalOutlet()?.attachComponentPortal(e)}attachTemplatePortal(e){if(this.portalOutlet()?.hasAttached())throw new Error("Attempting to attach modal content after content is already attached");return this.portalOutlet()?.attachTemplatePortal(e)}onOkClick(){this.okTriggered.emit()}onCloseClick(){this.cancelTriggered.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=y({type:n,selectors:[["z-sheet"]],viewQuery:function(t,i){t&1&&Ze(i.portalOutlet,K,5),t&2&&F()},hostAttrs:["data-slot","sheet"],hostVars:7,hostBindings:function(t,i){t&2&&(C("data-state",i.state()),g(i.classes()),Ne("width",i.config.zWidth?i.config.zWidth+" !important":null)("height",i.config.zHeight?i.config.zHeight+" !important":null))},outputs:{okTriggered:"okTriggered",cancelTriggered:"cancelTriggered"},exportAs:["zSheet"],features:[Oe],decls:6,vars:4,consts:[["data-testid","z-close-header-button","z-button","","zType","ghost","zSize","sm",1,"absolute","right-1","top-1","cursor-pointer"],["data-slot","sheet-header",1,"flex","flex-col","gap-1.5","p-4"],[1,"flex","flex-col","space-y-4","w-full"],["cdkPortalOutlet",""],["data-testid","z-content","data-slot","sheet-content",3,"innerHTML"],["data-slot","sheet-footer",1,"mt-auto","flex","flex-col","gap-2","p-4"],["data-testid","z-close-header-button","z-button","","zType","ghost","zSize","sm",1,"absolute","right-1","top-1","cursor-pointer",3,"click"],["zType","x"],["data-testid","z-title","data-slot","sheet-title",1,"text-lg","font-semibold","leading-none","tracking-tight"],["data-testid","z-description","data-slot","sheet-description",1,"text-sm","text-muted-foreground"],["data-testid","z-ok-button","z-button","",1,"cursor-pointer",3,"zType","disabled"],["data-testid","z-cancel-button","z-button","","zType","outline",1,"cursor-pointer"],["data-testid","z-ok-button","z-button","",1,"cursor-pointer",3,"click","zType","disabled"],[3,"zType"],["data-testid","z-cancel-button","z-button","","zType","outline",1,"cursor-pointer",3,"click"]],template:function(t,i){t&1&&(m(0,rt,2,0,"button",0),m(1,dt,2,1,"header",1),f(2,"main",2),Le(3,ut,0,0,"ng-template",3),m(4,mt,1,1,"div",4),h(),m(5,zt,3,2,"footer",5)),t&2&&(p(i.config.zClosable||i.config.zClosable===void 0?0:-1),d(),p(i.config.zTitle||i.config.zDescription?1:-1),d(3),p(i.isStringContent?4:-1),d(),p(i.config.zHideFooter?-1:5))},dependencies:[B,H,K,Y,ue],encapsulation:2,changeDetection:0})}return n})();var pe=(()=>{let n=class{overlayRef;config;containerInstance;platformId;destroy$=new ye;isClosing=!1;result;componentInstance=null;constructor(e,t,i,o){this.overlayRef=e,this.config=t,this.containerInstance=i,this.platformId=o,this.containerInstance.cancelTriggered.subscribe(()=>this.trigger("cancel")),this.containerInstance.okTriggered.subscribe(()=>this.trigger("ok")),(this.config.zMaskClosable??!0)&&R(this.platformId)&&this.overlayRef.outsidePointerEvents().pipe(he(this.destroy$)).subscribe(()=>this.close()),R(this.platformId)&&De(document,"keydown").pipe(we(r=>r.key==="Escape"),he(this.destroy$)).subscribe(()=>this.close())}close(e){if(this.isClosing)return;this.isClosing=!0,this.result=e,this.containerInstance.state.set("closed");let t=this.containerInstance.getNativeElement(),i=()=>{t.removeEventListener("animationend",i),this.overlayRef&&(this.overlayRef.hasAttached()&&this.overlayRef.detachBackdrop(),this.overlayRef.dispose()),this.destroy$.closed||(this.destroy$.next(),this.destroy$.complete())};t.addEventListener("animationend",i),setTimeout(()=>{i()},300)}trigger(e){let t={ok:this.config.zOnOk,cancel:this.config.zOnCancel}[e];if(t instanceof L)t.emit(this.getContentComponent());else if(typeof t=="function"){let i=t(this.getContentComponent());this.closeWithResult(i)}else this.close()}getContentComponent(){return this.componentInstance}closeWithResult(e){e!==!1&&this.close(e)}};return n=Se([Te(3,ke(O)),Me("design:paramtypes",[Function,Function,Function,Object])],n),n})();var Ct=new Ee("Z_MODAL_DATA"),We=(()=>{class n{overlay=z(Ge);injector=z(oe);platformId=z(O);create(e){return this.open(e.zContent,e)}open(e,t){let i=this.createOverlay();if(!i)return new pe(void 0,t,void 0,this.platformId);let o=this.attachSheetContainer(i,t),r=this.attachSheetContent(e,o,i,t);return o.sheetRef=r,r}createOverlay(){if(R(this.platformId)){let e=new He({hasBackdrop:!0,positionStrategy:this.overlay.position().global()});return this.overlay.create(e)}}attachSheetContainer(e,t){let i=oe.create({parent:this.injector,providers:[{provide:Be,useValue:e},{provide:J,useValue:t}]}),o=new _e(ee,t.zViewContainerRef,i),r=e.attach(o);return r.instance.state.set("open"),r.instance}attachSheetContent(e,t,i,o){let r=new pe(i,o,t,this.platformId);if(e instanceof Pe)t.attachTemplatePortal(new je(e,null,{sheetRef:r}));else if(typeof e!="string"){let c=this.createInjector(r,o),u=t.attachComponentPortal(new _e(e,o.zViewContainerRef,c));r.componentInstance=u.instance}return r}createInjector(e,t){return oe.create({parent:this.injector,providers:[{provide:pe,useValue:e},{provide:Ct,useValue:t.zData}]})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var bt=[de,Y,ee,B,H],fn=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ze({type:n});static \u0275inj=ge({imports:[bt,de,B,H]})}return n})(),hn=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ze({type:n});static \u0275inj=ge({providers:[We],imports:[de,Y,ee,B,H]})}return n})();var qe=v("inline-flex items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",{variants:{zSize:{sm:"h-9 text-xs",default:"h-10 text-sm",lg:"h-12 text-base"}},defaultVariants:{zSize:"default"}}),Ue=v("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{zSize:{sm:"px-2 py-1 text-xs",default:"px-3 py-1.5 text-sm",lg:"px-4 py-2 text-base"},isActive:{true:"bg-background text-foreground shadow-sm",false:"hover:bg-muted/50"}},defaultVariants:{zSize:"default",isActive:!1}});var vt=["*"],_t=(n,s)=>s.value,xt=(n,s)=>s.value();function yt(n,s){if(n&1){let e=V();ae(0,"button",2),be("click",function(){let i=D(e).$implicit,o=l(2);return w(o.selectOption(i.value))}),S(1),se()}if(n&2){let e=s.$implicit,t=l(2);g(t.getItemClasses(e.value)),Ce("disabled",e.disabled||t.zDisabled()),C("aria-selected",t.isSelected(e.value))("aria-controls",e.value+"-panel")("id",e.value+"-tab"),d(),$(" ",e.label," ")}}function St(n,s){if(n&1&&q(0,yt,2,7,"button",1,_t),n&2){let e=l();U(e.zOptions())}}function Tt(n,s){if(n&1){let e=V();ae(0,"button",2),be("click",function(){let i=D(e).$implicit,o=l(2);return w(o.selectOption(i.value()))}),S(1),se()}if(n&2){let e=s.$implicit,t=l(2);g(t.getItemClasses(e.value())),Ce("disabled",e.disabled()||t.zDisabled()),C("aria-selected",t.isSelected(e.value()))("aria-controls",e.value()+"-panel")("id",e.value()+"-tab"),d(),$(" ",e.label()," ")}}function Mt(n,s){if(n&1&&q(0,Tt,2,7,"button",1,xt),n&2){let e=l();U(e.items())}}var Xe=(()=>{class n{value=a.required();label=a.required();disabled=a(!1);static \u0275fac=function(t){return new(t||n)};static \u0275cmp=y({type:n,selectors:[["z-segmented-item"]],inputs:{value:[1,"value"],label:[1,"label"],disabled:[1,"disabled"]},ngContentSelectors:vt,decls:1,vars:0,template:function(t,i){t&1&&(N(),A(0))},encapsulation:2})}return n})(),Mn=(()=>{class n{itemComponents=ce(Xe);class=a("");zSize=a("default");zOptions=a([]);zDefaultValue=a("");zDisabled=a(!1);zAriaLabel=a("Segmented control");zChange=I();selectedValue=x("");items=x([]);onChange=()=>{};onTouched=()=>{};constructor(){Ae(()=>{this.items.set(this.itemComponents())})}ngOnInit(){this.zDefaultValue()&&this.selectedValue.set(this.zDefaultValue())}classes=b(()=>T(qe({zSize:this.zSize()}),this.class()));wrapperClasses=b(()=>"inline-block");getItemClasses(e){return Ue({zSize:this.zSize(),isActive:this.isSelected(e)})}isSelected(e){return this.selectedValue()===e}selectOption(e){if(this.zDisabled())return;let t=this.zOptions().find(o=>o.value===e),i=this.items().find(o=>o.value()===e);t?.disabled||i?.disabled()||(this.selectedValue.set(e),this.onChange(e),this.onTouched(),this.zChange.emit(e))}writeValue(e){this.selectedValue.set(e??"")}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=y({type:n,selectors:[["z-segmented"]],contentQueries:function(t,i,o){t&1&&re(o,i.itemComponents,Xe,4),t&2&&F()},hostVars:2,hostBindings:function(t,i){t&2&&g(i.wrapperClasses())},inputs:{class:[1,"class"],zSize:[1,"zSize"],zOptions:[1,"zOptions"],zDefaultValue:[1,"zDefaultValue"],zDisabled:[1,"zDisabled"],zAriaLabel:[1,"zAriaLabel"]},outputs:{zChange:"zChange"},exportAs:["zSegmented"],features:[le([{provide:me,useExisting:ie(()=>n),multi:!0}])],decls:3,vars:4,consts:[["role","tablist"],["type","button","role","tab",3,"class","disabled"],["type","button","role","tab",3,"click","disabled"]],template:function(t,i){t&1&&(ae(0,"div",0),m(1,St,2,0)(2,Mt,2,0),se()),t&2&&(g(i.classes()),C("aria-label",i.zAriaLabel()),d(),p(i.zOptions().length>0?1:2))},encapsulation:2,changeDetection:0})}return n})();var Ye=v("flex w-fit items-center rounded-md",{variants:{zType:{default:"",outline:"shadow-sm"},zSize:{sm:"",md:"",lg:""}},defaultVariants:{zType:"default",zSize:"md"}}),Ke=v("inline-flex items-center justify-center whitespace-nowrap rounded-none gap-2 text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{zType:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},zSize:{sm:"h-8 px-2.5 text-xs",md:"h-9 px-3 text-sm",lg:"h-10 px-4 text-sm"}},defaultVariants:{zType:"default",zSize:"md"}});var Dt=(n,s)=>s.value;function wt(n,s){if(n&1&&k(0,"span",3),n&2){let e=l().$implicit;E("zType",e.icon)}}function Vt(n,s){if(n&1&&(f(0,"span"),S(1),h()),n&2){let e=l().$implicit;d(),j(e.label)}}function Et(n,s){if(n&1&&(f(0,"span"),S(1),h()),n&2){let e=l().$implicit;d(),j(e.value)}}function Rt(n,s){if(n&1){let e=V();f(0,"button",2),Z("click",function(){let i=D(e).$implicit,o=l();return w(o.toggleItem(i))}),m(1,wt,1,1,"span",3),m(2,Vt,2,1,"span")(3,Et,2,1,"span"),h()}if(n&2){let e=s.$implicit,t=s.$index,i=l();g(i.getItemClasses(t,i.items().length)),E("disabled",i.disabled()||e.disabled),C("aria-pressed",i.isItemPressed(e.value))("data-state",i.isItemPressed(e.value)?"on":"off")("aria-label",e.ariaLabel),d(),p(e.icon?1:-1),d(),p(e.label?2:e.icon?-1:3)}}var Nn=(()=>{class n{zMode=a("multiple");zType=a("default");zSize=a("md");value=a();defaultValue=a();disabled=a(!1);class=a("");items=a([]);valueChange=I();internalValue=x(void 0);classes=b(()=>T(Ye({zType:this.zType(),zSize:this.zSize()}),this.class()));currentValue=b(()=>{let e=this.internalValue(),t=this.value(),i=this.defaultValue();return e!==void 0?e:t!==void 0?t:i!==void 0?i:this.zMode()==="single"?"":[]});getItemClasses(e,t){let i=Ke({zType:this.zType(),zSize:this.zSize()}),o=[];return e===0&&o.push("first:rounded-l-md"),e===t-1&&o.push("last:rounded-r-md"),this.zType()==="outline"&&(e===0?o.push("border-l"):o.push("border-l-0")),o.push("focus:z-10","focus-visible:z-10"),T(i,...o)}isItemPressed(e){let t=this.currentValue();return this.zMode()==="single"?t===e:Array.isArray(t)&&t.includes(e)}onTouched=()=>{};onChangeFn=()=>{};toggleItem(e){if(this.disabled()||e.disabled)return;let t=this.currentValue(),i;if(this.zMode()==="single")i=t===e.value?"":e.value;else{let o=Array.isArray(t)?t:[];o.includes(e.value)?i=o.filter(r=>r!==e.value):i=[...o,e.value]}this.internalValue.set(i),this.valueChange.emit(i),this.onChangeFn(i),this.onTouched()}writeValue(e){e!==void 0&&this.internalValue.set(e)}registerOnChange(e){this.onChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(){}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=y({type:n,selectors:[["z-toggle-group"]],inputs:{zMode:[1,"zMode"],zType:[1,"zType"],zSize:[1,"zSize"],value:[1,"value"],defaultValue:[1,"defaultValue"],disabled:[1,"disabled"],class:[1,"class"],items:[1,"items"]},outputs:{valueChange:"valueChange"},exportAs:["zToggleGroup"],features:[le([{provide:me,useExisting:ie(()=>n),multi:!0}])],decls:3,vars:3,consts:[["role","group"],["type","button",3,"class","disabled"],["type","button",3,"click","disabled"],["z-icon","",1,"w-4","h-4","shrink-0",3,"zType"]],template:function(t,i){t&1&&(f(0,"div",0),q(1,Rt,4,8,"button",1,Dt),h()),t&2&&(g(i.classes()),C("data-orientation","horizontal"),d(),U(i.items()))},dependencies:[ue],encapsulation:2,changeDetection:0})}return n})();var Je=v("flex h-full w-full data-[layout=vertical]:flex-col overflow-hidden",{variants:{zLayout:{horizontal:"",vertical:""}},defaultVariants:{zLayout:"horizontal"}}),et=v("relative overflow-hidden flex-shrink-0 h-full",{variants:{zCollapsed:{true:"hidden",false:""}},defaultVariants:{zCollapsed:!1}}),jn=v("group relative flex flex-shrink-0 items-center justify-center bg-border transition-colors hover:bg-border/80 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1",{variants:{zLayout:{horizontal:"w-[1px] min-w-[1px] cursor-col-resize after:absolute after:inset-y-0 after:left-1/2 after:w-4 after:-translate-x-1/2",vertical:"h-[1px] min-h-[1px] w-full cursor-row-resize after:absolute after:inset-x-0 after:top-1/2 after:h-4 after:-translate-y-1/2"},zDisabled:{true:"cursor-default pointer-events-none opacity-50",false:""}},defaultVariants:{zLayout:"horizontal",zDisabled:!1}}),$n=v("absolute z-10 bg-muted-foreground/30 transition-colors group-hover:bg-muted-foreground/50 rounded-full",{variants:{zLayout:{vertical:"w-8 h-px",horizontal:"w-px h-8"}},defaultVariants:{zLayout:"horizontal"}});var kt=["*"],xe=(()=>{class n{elementRef=z(P);zDefaultSize=a(void 0);zMin=a(0);zMax=a(100);zCollapsible=a(!1,{transform:X});zResizable=a(!0,{transform:X});class=a("");isCollapsed=b(()=>{let e=this.elementRef.nativeElement,t=Number.parseFloat(e.style.width||"0"),i=Number.parseFloat(e.style.height||"0");return t===0||i===0});classes=b(()=>T(et({zCollapsed:this.isCollapsed()}),this.class()));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=y({type:n,selectors:[["z-resizable-panel"]],hostVars:3,hostBindings:function(t,i){t&2&&(C("data-collapsed",i.isCollapsed()),g(i.classes()))},inputs:{zDefaultSize:[1,"zDefaultSize"],zMin:[1,"zMin"],zMax:[1,"zMax"],zCollapsible:[1,"zCollapsible"],zResizable:[1,"zResizable"],class:[1,"class"]},exportAs:["zResizablePanel"],ngContentSelectors:kt,decls:1,vars:0,template:function(t,i){t&1&&(N(),A(0))},encapsulation:2,changeDetection:0})}return n})();var It=["*"],si=(()=>{class n{elementRef=z(P);platformId=z(O);document=z(Re);listenersCleanup=[];zLayout=a("horizontal");zLazy=a(!1,{transform:X});class=a("");zResizeStart=new L;zResize=new L;zResizeEnd=new L;panels=ce(xe);panelSizes=x([]);isResizing=x(!1);activeHandleIndex=x(null);classes=b(()=>T(Je({zLayout:this.zLayout()}),this.class()));ngAfterContentInit(){this.initializePanelSizes()}convertToPercentage(e,t){if(typeof e=="number")return e;if(typeof e=="string"){if(e.endsWith("%"))return Number.parseFloat(e);if(e.endsWith("px")){let i=Number.parseFloat(e);return t<=0?0:i/t*100}}return Number.parseFloat(e.toString())||0}initializePanelSizes(){let e=this.panels(),t=e.length;if(t===0)return;let i=this.getContainerSize(),o=e.map(r=>{let c=r.zDefaultSize();return c!==void 0?this.convertToPercentage(c,i):100/t});this.panelSizes.set(o),this.updatePanelStyles()}startResize(e,t){t.preventDefault(),this.isResizing.set(!0),this.activeHandleIndex.set(e);let i=[...this.panelSizes()];this.zResizeStart.emit({sizes:i,layout:this.zLayout()??"horizontal"});let o=this.getEventPosition(t),r=[...i],c=_=>{this.handleResize(_,e,o,r)},u=()=>{this.endResize(),R(this.platformId)&&(this.document.removeEventListener("mousemove",c),this.document.removeEventListener("touchmove",c),this.document.removeEventListener("mouseup",u),this.document.removeEventListener("touchend",u)),this.listenersCleanup.pop()};R(this.platformId)&&(this.document.addEventListener("mousemove",c),this.document.addEventListener("touchmove",c),this.document.addEventListener("mouseup",u),this.document.addEventListener("touchend",u),this.listenersCleanup.push(()=>{this.document.removeEventListener("mousemove",c),this.document.removeEventListener("touchmove",c),this.document.removeEventListener("mouseup",u),this.document.removeEventListener("touchend",u)}))}handleResize(e,t,i,o){let c=this.getEventPosition(e)-i,u=this.getContainerSize(),_=c/u*100,M=[...o],Q=this.panels(),W=Q[t],fe=Q[t+1];if(!W||!fe)return;let tt=this.convertToPercentage(W.zMin(),u),nt=this.convertToPercentage(W.zMax(),u),it=this.convertToPercentage(fe.zMin(),u),ot=this.convertToPercentage(fe.zMax(),u),te=o[t]+_,ne=o[t+1]-_;te=Math.max(tt,Math.min(nt,te)),ne=Math.max(it,Math.min(ot,ne));let at=te+ne,st=o[t]+o[t+1];Math.abs(at-st)<.01&&(M[t]=te,M[t+1]=ne,this.panelSizes.set(M),this.zLazy()||this.updatePanelStyles(),this.zResize.emit({sizes:M,layout:this.zLayout()??"horizontal"}))}endResize(){this.isResizing.set(!1),this.activeHandleIndex.set(null),this.zLazy()&&this.updatePanelStyles();let e=[...this.panelSizes()];this.zResizeEnd.emit({sizes:e,layout:this.zLayout()??"horizontal"})}updatePanelStyles(){let e=this.panels(),t=this.panelSizes(),i=this.zLayout();for(let o=0;o<e.length;o++){let r=t[o];if(r!=null){let c=e[o].elementRef.nativeElement;i==="vertical"?(c.style.height=`${r}%`,c.style.width="100%"):(c.style.width=`${r}%`,c.style.height="100%")}}}getEventPosition(e){let t=this.zLayout();if(e instanceof MouseEvent)return t==="vertical"?e.clientY:e.clientX;{let i=e.touches[0];return t==="vertical"?i.clientY:i.clientX}}getContainerSize(){let e=this.elementRef.nativeElement;return this.zLayout()==="vertical"?e.offsetHeight:e.offsetWidth}collapsePanel(e){let t=this.panels(),i=t[e];if(!i?.zCollapsible())return;let o=[...this.panelSizes()];if(o[e]===0){let c=this.getContainerSize(),u=this.convertToPercentage(i.zDefaultSize()??100/t.length,c);o[e]=u;let _=this.othersTotal(o,e);if(_===0){let M=(100-u)/(o.length-1);o=o.map((Q,W)=>W===e?u:M)}else{let M=(100-u)/_;o=this.scaleSizes(o,e,M)}}else{let c=o[e];o[e]=0;let u=this.othersTotal(o,e);if(u===0){let _=(100-c)/(o.length-1);o=o.map((M,Q)=>Q===e?c:_)}else{let _=(u+c)/u;o=this.scaleSizes(o,e,_)}}this.panelSizes.set(o),this.updatePanelStyles(),this.zResize.emit({sizes:o,layout:this.zLayout()??"horizontal"})}ngOnDestroy(){for(let e of this.listenersCleanup)e()}scaleSizes(e,t,i){return e.map((o,r)=>r===t?o:o*i)}othersTotal(e,t){return e.reduce((i,o,r)=>r===t?i:i+o,0)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=y({type:n,selectors:[["z-resizable"],["","z-resizable",""]],contentQueries:function(t,i,o){t&1&&re(o,i.panels,xe,4),t&2&&F()},hostVars:3,hostBindings:function(t,i){t&2&&(C("data-layout",i.zLayout()),g(i.classes()))},inputs:{zLayout:[1,"zLayout"],zLazy:[1,"zLazy"],class:[1,"class"]},outputs:{zResizeStart:"zResizeStart",zResize:"zResize",zResizeEnd:"zResizeEnd"},exportAs:["zResizable"],ngContentSelectors:It,decls:1,vars:0,template:function(t,i){t&1&&(N(),A(0))},encapsulation:2,changeDetection:0})}return n})();export{Ct as a,We as b,fn as c,hn as d,Mn as e,Nn as f,jn as g,$n as h,xe as i,si as j};
