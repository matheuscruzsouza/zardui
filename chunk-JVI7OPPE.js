import{a as M}from"./chunk-7ZRFYGUP.js";import{a as T}from"./chunk-3LQ3RQVB.js";import{a as $,b as j}from"./chunk-BDY65DBF.js";import"./chunk-XS3J6JAP.js";import{a as b}from"./chunk-4JCP3OCY.js";import{b as k,c as z}from"./chunk-WFSMCCVB.js";import"./chunk-LC3QGFPW.js";import"./chunk-T26BD3C4.js";import"./chunk-KIUXQO2M.js";import{a as P}from"./chunk-4X7TIHKF.js";import"./chunk-WRYUIXCZ.js";import{$b as D,Ad as _,E as C,Ib as f,Kb as u,Nb as F,Nc as E,Ob as A,Pb as m,Qb as a,Rb as d,Sb as c,Z as S,Za as s,ca as l,n as v,ob as w,pc as L,s as y,sa as h,td as I}from"./chunk-FOI5FY2M.js";import{g as r}from"./chunk-GAL4ENT6.js";var N=(()=>{class o{http=l(_);changelogPath="/documentation/change-log/";loadAllEntries(){return r(this,null,function*(){try{let n=(yield this.getAvailableFiles()).map(i=>this.loadSingleEntry(i).toPromise());return(yield Promise.all(n)).filter(i=>i!==null)}catch(e){return console.error("Error loading all entries:",e),[]}})}loadSingleEntry(e){let n=`${this.changelogPath}${e}`;return this.http.get(n,{responseType:"text"}).pipe(y(t=>({date:this.extractDateFromFilename(e).toLocaleDateString("en-US",{year:"numeric",month:"long"}),filename:e,content:t,id:this.generateIdFromFilename(e)})),C(t=>(console.warn(`Failed to load ${e}:`,t),v(null))))}getAvailableFiles(){return r(this,null,function*(){let e=["03-2025.md","04-2025.md","05-2025.md","06-2025.md","07-2025.md","08-2025.md","09-2025.md","10-2025.md"],n=[];for(let t of e)try{(yield this.http.get(`${this.changelogPath}${t}`,{responseType:"text"}).toPromise())&&n.push(t)}catch{}return n.sort((t,i)=>{let p=this.extractDateFromFilename(t);return this.extractDateFromFilename(i).getTime()-p.getTime()})})}extractDateFromFilename(e){let n=e.match(/(\d{2})-(\d{4})\.md$/);if(n){let t=parseInt(n[1],10)-1,i=parseInt(n[2],10);return new Date(i,t,1)}return new Date}generateIdFromFilename(e){return e.replace(".md","").replace(/[^a-zA-Z0-9]/g,"-")}static \u0275fac=function(n){return new(n||o)};static \u0275prov=S({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function U(o,g){if(o&1&&(a(0,"div",3),c(1,"z-markdown-renderer",6),d()),o&2){let e=g.$implicit;m("id",e.id)("scrollSpyItem",e.id),s(),m("markdownUrl","/documentation/change-log/"+e.filename)}}function Z(o,g){o&1&&(a(0,"div",4),c(1,"z-loader"),a(2,"span",7),L(3,"Loading changelog entries..."),d()())}function x(o,g){o&1&&c(0,"z-alert",5)}var se=(()=>{class o{changelogService=l(N);seoService=l(P);title="Changelog - zard/ui";activeAnchor;entries=h([]);isLoading=h(!1);navigationConfig=E(()=>{let e=[{id:"overview",label:"Overview",type:"core"}],n=this.entries().map(t=>({id:t.id,label:t.date,type:"core"}));return{items:[...e,...n]}});ngOnInit(){return r(this,null,function*(){this.seoService.setDocsSeo("Changelog","Latest updates and announcements.","/docs/changelog","og-changelog.jpg"),yield this.loadAllEntries()})}loadAllEntries(){return r(this,null,function*(){if(!this.isLoading()){this.isLoading.set(!0);try{let e=yield this.changelogService.loadAllEntries();this.entries.set(e)}catch(e){console.error("Error loading changelog entries:",e)}finally{this.isLoading.set(!1)}}})}trackByEntry(e,n){return n.id}onAnchorClick(e){return r(this,null,function*(){})}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=w({type:o,selectors:[["z-changelog"]],decls:7,vars:6,consts:[["scrollSpy","",3,"scrollSpyChange","title","navigationConfig","activeAnchor","onAnchorClick"],["title","Changelog","description","Latest updates and announcements.","scrollSpyItem","overview","id","overview"],[1,"space-y-8"],["scrollSpyItem","",1,"no-bullets",3,"id","scrollSpyItem"],[1,"flex","justify-center","items-center","py-8"],["variant","outline","zTitle","No entries found","zDescription","No changelog entries were found at this time.",1,"mt-8"],[3,"markdownUrl"],[1,"ml-3","text-muted-foreground"]],template:function(n,t){n&1&&(a(0,"z-content",0),D("scrollSpyChange",function(p){return t.activeAnchor=p}),c(1,"z-doc-heading",1),a(2,"div",2),F(3,U,2,3,"div",3,t.trackByEntry,!0),f(5,Z,4,0,"div",4),f(6,x,1,0,"z-alert",5),d()()),n&2&&(m("title",t.title)("navigationConfig",t.navigationConfig())("activeAnchor",t.activeAnchor)("onAnchorClick",t.onAnchorClick.bind(t)),s(3),A(t.entries()),s(2),u(t.isLoading()&&t.entries().length===0?5:-1),s(),u(!t.isLoading()&&t.entries().length===0?6:-1))},dependencies:[I,k,b,T,z,M,$,j],encapsulation:2})}return o})();export{se as ChangeLogPage};
